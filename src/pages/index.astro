---
import Layout from '@layouts/Layout.astro'
import MetMeDemo from '@components/MetMeDemo.astro'
import MetMeViewsDemo from '@components/MetMeViewsDemo.astro'
import { Image } from 'astro:assets'
import metmeIcon from '@media/metme/metme-ios-icon.png'
---

<Layout class="metme-page">
  <main class="mm overflow-x-hidden">
    <!-- Hero -->
    <section class="mm-hero flex flex-col items-center text-center pt-[8vh] px-8 pb-8 max-w-[38rem] mx-auto md:pt-[10vh]">
      <div class="mm-hero__icon w-[100px] h-[100px] mb-6 will-change-transform sm:w-[120px] sm:h-[120px]">
        <Image src={metmeIcon} alt="MetMe App Icon" width={120} height={120} layout="constrained" class="w-full h-full object-cover" />
      </div>
      <h1 class="mm-hero__title text-[clamp(2.5rem,7vw,4rem)] font-bold leading-none text-stone-50 mb-4 tracking-[-0.02em]">metme</h1>
      <p class="mm-hero__sub text-[clamp(1.1rem,2.5vw,1.3rem)] leading-[1.55] text-stone-300 mb-5">
        A better way to add and remember contacts.<br class="max-sm:hidden" />
        Type or speak naturally, AI handles the rest.
      </p>
      <p class="mm-hero__private inline-block align-middle gap-2 text-[0.875rem] leading-[1.5] font-medium text-amber-400 mb-8 tracking-[0.01em]">
        <svg class="mm-lock-icon w-4 h-4 shrink-0 inline-block relative align-text-top" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"
          ><path
            d="M4.5 7V5a3.5 3.5 0 0 1 7 0v2M3 7h10a1 1 0 0 1 1 1v5a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8a1 1 0 0 1 1-1z"
            stroke="currentColor"
            stroke-width="1.5"
            stroke-linecap="round"
            stroke-linejoin="round"></path></svg
        >
        100% on-device. Powered by Apple Intelligence.
      </p>
      <a href="https://testflight.apple.com/join/EQErxJEX" class="mm-cta-btn relative inline-flex items-center justify-center no-underline rounded-[12px] py-[14px] px-[28px] cursor-pointer overflow-hidden">
        <span class="mm-cta-btn__fill absolute rounded-[11px] pointer-events-none"></span>
        <span class="mm-cta-btn__label relative font-['Nunito_Sans',system-ui,sans-serif] font-semibold text-[1.05rem] text-white z-[1]">Join the Beta on TestFlight</span>
      </a>
      <div class="mm-requirements__wrap flex gap-4 mt-4">
        <span class="mm-requirements text-[0.875rem] text-stone-500 leading-[1.4]">iOS 26+</span><span class="mm-requirements text-[0.875rem] text-stone-500 leading-[1.4]">iPhone 15 Pro or newer</span>
      </div>
    </section>

    <MetMeDemo />

    <!-- Value Props -->
    <section class="mm-value grid gap-8 max-w-[54rem] mx-auto pt-16 px-8 pb-24 sm:grid-cols-2 md:grid-cols-3 md:gap-10">
      <div class="mm-value__item">
        <span class="mm-value__icon flex items-center justify-center w-[44px] h-[44px] rounded-[10px] text-amber-400 mb-4">
          <svg class="w-[22px] h-[22px]" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"
            ><path d="M12 1a3 3 0 0 0-3 3v8a3 3 0 0 0 6 0V4a3 3 0 0 0-3-3z" fill="currentColor"></path><path
              d="M19 10v2a7 7 0 0 1-14 0v-2M12 19v4m-4 0h8"
              stroke="currentColor"
              stroke-width="1.5"
              stroke-linecap="round"
              stroke-linejoin="round"></path></svg
          >
        </span>
        <h3 class="mm-value__title text-[1.15rem] font-bold text-stone-50 mb-2">Speak or type naturally</h3>
        <p class="mm-value__desc text-[0.95rem] leading-[1.6] text-stone-400">
          "Met Sarah at the coffee shop, she's a designer at Figma" is all you need. MetMe understands natural language
          and extracts names, roles, companies, and contact details automatically.
        </p>
      </div>
      <div class="mm-value__item">
        <span class="mm-value__icon flex items-center justify-center w-[44px] h-[44px] rounded-[10px] text-amber-400 mb-4">
          <svg class="w-[22px] h-[22px]" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"
            ><path d="M12 2a4 4 0 0 0-4 4v4h8V6a4 4 0 0 0-4-4z" fill="currentColor" opacity=".3"></path><rect
              x="2"
              y="10"
              width="20"
              height="12"
              rx="2"
              fill="currentColor"></rect><circle cx="12" cy="16" r="2" fill="var(--color-stone-900)"></circle></svg
          >
        </span>
        <h3 class="mm-value__title text-[1.15rem] font-bold text-stone-50 mb-2">Completely private</h3>
        <p class="mm-value__desc text-[0.95rem] leading-[1.6] text-stone-400">
          All AI processing runs entirely on your iPhone using Apple Intelligence. Your contacts never leave your
          device. No cloud, no servers, no accounts. MetMe writes directly to your native iOS Contacts.
        </p>
      </div>
      <div class="mm-value__item">
        <span class="mm-value__icon flex items-center justify-center w-[44px] h-[44px] rounded-[10px] text-amber-400 mb-4">
          <svg class="w-[22px] h-[22px]" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"
            ><circle cx="12" cy="12" r="10" stroke="currentColor" stroke-width="1.5"></circle><path
              d="M12 6v6l4 2"
              stroke="currentColor"
              stroke-width="1.5"
              stroke-linecap="round"></path></svg
          >
        </span>
        <h3 class="mm-value__title text-[1.15rem] font-bold text-stone-50 mb-2">Faster than native iOS</h3>
        <p class="mm-value__desc text-[0.95rem] leading-[1.6] text-stone-400">
          Adding a contact in the Contacts app takes 30+ seconds of tapping through fields. With MetMe, one sentence
          does it all in under 5 seconds.
        </p>
      </div>
      <div class="mm-value__item">
        <span class="mm-value__icon flex items-center justify-center w-[44px] h-[44px] rounded-[10px] text-amber-400 mb-4">
          <svg class="w-[22px] h-[22px]" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"
            ><path
              d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"
              stroke="currentColor"
              stroke-width="1.5"
              stroke-linecap="round"
              stroke-linejoin="round"></path><circle cx="12" cy="10" r="3" fill="currentColor"></circle></svg
          >
        </span>
        <h3 class="mm-value__title text-[1.15rem] font-bold text-stone-50 mb-2">Remembers context</h3>
        <p class="mm-value__desc text-[0.95rem] leading-[1.6] text-stone-400">
          Where you met, when you met, and personal notes are all captured automatically. Never wonder "where do I know
          them from?" again.
        </p>
      </div>
      <div class="mm-value__item">
        <span class="mm-value__icon flex items-center justify-center w-[44px] h-[44px] rounded-[10px] text-amber-400 mb-4">
          <svg class="w-[22px] h-[22px]" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"
            ><path
              d="M21 16v-2l-8-5V3.5A1.5 1.5 0 0 0 11.5 2 1.5 1.5 0 0 0 10 3.5V9l-8 5v2l8-2.5V19l-2 1.5V22l3.5-1 3.5 1v-1.5L13 19v-5.5l8 2.5z"
              fill="currentColor"></path></svg
          >
        </span>
        <h3 class="mm-value__title text-[1.15rem] font-bold text-stone-50 mb-2">Works offline</h3>
        <p class="mm-value__desc text-[0.95rem] leading-[1.6] text-stone-400">
          No internet required. All processing happens on your device using Apple Intelligence, so you can add contacts
          anywhere, anytime, even in airplane mode.
        </p>
      </div>
      <div class="mm-value__item">
        <span class="mm-value__icon flex items-center justify-center w-[44px] h-[44px] rounded-[10px] text-amber-400 mb-4">
          <svg class="w-[22px] h-[22px]" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"
            ><path
              d="M22 11.08V12a10 10 0 1 1-5.93-9.14"
              stroke="currentColor"
              stroke-width="1.5"
              stroke-linecap="round"></path><path
              d="M22 4 12 14.01l-3-3"
              stroke="currentColor"
              stroke-width="1.5"
              stroke-linecap="round"
              stroke-linejoin="round"></path></svg
          >
        </span>
        <h3 class="mm-value__title text-[1.15rem] font-bold text-stone-50 mb-2">No account needed</h3>
        <p class="mm-value__desc text-[0.95rem] leading-[1.6] text-stone-400">
          No sign-up, no login, no cloud sync. Just open the app and start adding contacts. Everything saves directly to
          your native iOS Contacts.
        </p>
      </div>
    </section>

    <MetMeViewsDemo />

    <div class="mm-bottom-gradient relative">
      <!-- Bottom CTA -->
      <section class="mm-bottom-cta flex flex-col items-center text-center py-32 px-8 relative">
        <div class="mm-bottom-cta__icon w-16 h-16 mb-5">
          <Image layout="constrained" src={metmeIcon} alt="MetMe" width={72} height={72} class="w-full h-full object-cover" />
        </div>
        <p class="mm-bottom-cta__desc text-[0.9rem] text-amber-400 mb-7">Coming to the App Store soon!</p>
        <a href="https://testflight.apple.com/join/EQErxJEX" class="mm-cta-btn mm-cta-btn--lg mm-cta-btn--white relative inline-flex items-center justify-center no-underline rounded-[12px] py-4 px-9 cursor-pointer overflow-hidden">
          <span class="mm-cta-btn__fill absolute rounded-[11px] pointer-events-none"></span>
          <span class="mm-cta-btn__label relative font-['Nunito_Sans',system-ui,sans-serif] font-semibold text-[1.15rem] text-white z-[1]">Get MetMe on TestFlight</span>
        </a>
        <div class="mm-requirements__wrap flex gap-4 mt-4">
          <span class="mm-requirements text-[0.875rem] leading-[1.4]">iOS 26+</span><span class="mm-requirements text-[0.875rem] leading-[1.4]">iPhone 15 Pro</span>
        </div>
      </section>

      <!-- Footer -->
      <footer class="mm-footer grid text-center p-8 sm:text-left sm:absolute sm:bottom-0 sm:left-0">
        <p class="text-[0.75rem]">Made by</p><a href="https://mattaningram.com" class="mm-footer__link text-amber-50 no-underline font-medium hover:text-stone-50">Mattan Ingram</a>
      </footer>
    </div>
  </main>
</Layout>

<style>
  .mm-hero__icon {
    filter: drop-shadow(0 6px 30px color-mix(in oklch, var(--color-amber-500) 35%, transparent));
    transition:
      transform 0.3s cubic-bezier(0.25, 1, 0.5, 1),
      filter 0.3s cubic-bezier(0.25, 1, 0.5, 1);
  }

  .mm-hero:has(.mm-cta-btn:hover) .mm-hero__icon {
    transform: scale(1.1);
    filter: drop-shadow(0 10px 45px color-mix(in oklch, var(--color-amber-500) 60%, transparent));
  }

  /* ── CTA Button (MetMe style gradient) ── */
  .mm-cta-btn {
    transition: transform 0.15s cubic-bezier(0.25, 1, 0.5, 1);

    &:active {
      transform: scale(1.05);
    }

    &::before {
      content: '';
      position: absolute;
      inset: 0;
      border-radius: 12px;
      padding: 1px;
      background: linear-gradient(
        135deg,
        color-mix(in oklch, var(--color-amber-200) 87%, transparent),
        color-mix(in oklch, var(--color-amber-300) 60%, transparent),
        color-mix(in oklch, var(--color-amber-400) 27%, transparent),
        color-mix(in oklch, var(--color-amber-500) 20%, transparent)
      );
      -webkit-mask:
        linear-gradient(#fff 0 0) content-box,
        linear-gradient(#fff 0 0);
      -webkit-mask-composite: xor;
      mask-composite: exclude;
      pointer-events: none;
    }
  }

  .mm-cta-btn__fill {
    inset: 1px;
    background: linear-gradient(
      135deg,
      color-mix(in oklch, var(--color-amber-500) 85%, transparent),
      color-mix(in oklch, var(--color-amber-600) 60%, transparent)
    );
    background-size: 200% 200%;
    background-position: 0% 50%;
    transition: background-position 0.4s cubic-bezier(0.25, 1, 0.5, 1);

    .mm-cta-btn:hover & {
      background-position: 100% 50%;
    }
  }

  .mm-value__icon {
    background: color-mix(in oklch, var(--color-amber-950) 60%, transparent);
  }

  /* ── Bottom gradient wrapper ── */
  .mm-bottom-gradient {
    background-image: radial-gradient(
      160vw 100% at bottom center,
      color-mix(in oklch, var(--color-amber-500) 75%, transparent) 0%,
      color-mix(in oklch, var(--color-amber-500) 25%, transparent) 25%,
      color-mix(in oklch, var(--color-amber-500) 0%, transparent) 100%
    );

    .mm-requirements {
      color: var(--color-amber-100);
    }
  }

  .mm-bottom-cta__icon {
    filter: drop-shadow(0 4px 20px color-mix(in oklch, var(--color-amber-500) 30%, transparent));
  }

  /* ── White glass CTA button variant ── */
  .mm-cta-btn--white {
    &::before {
      background: linear-gradient(
        135deg,
        color-mix(in oklch, #fff 50%, transparent),
        color-mix(in oklch, #fff 20%, transparent),
        color-mix(in oklch, #fff 8%, transparent)
      );
    }

    .mm-cta-btn__fill {
      background: linear-gradient(
        135deg,
        color-mix(in oklch, #fff 18%, transparent),
        color-mix(in oklch, #fff 6%, transparent)
      );
      background-size: 200% 200%;
      background-position: 0% 50%;
    }
  }

  .mm-footer {
    color: rgba(white, 0.75);
  }
</style>
